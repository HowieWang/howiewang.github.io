---
layout: post
title:  【De8ug玩docker】-Centos 7 docker 启动容器iptables报No chain/target/match by that name
category: 
- docker  

---

* content
{:toc}

重启了一下服务器，以前能运行的docker网络应用都不能正常开启了。

因为用的是centos7，所以猜测有可能是iptables的问题。

`docker start` 或者`run` 后总是提示类似的错误：
`No chain/target/match by that name`

Google了一下，还真有人遇到类似问题。

**Centos 7的 /etc/sysconfig/iptables 文件:**

	
	*nat
	:PREROUTING ACCEPT [27:11935]
	:INPUT ACCEPT [0:0]
	:OUTPUT ACCEPT [598:57368]
	:POSTROUTING ACCEPT [591:57092]
	:DOCKER - [0:0]
	-A PREROUTING -m addrtype --dst-type LOCAL -j DOCKER
	-A OUTPUT ! -d 127.0.0.0/8 -m addrtype --dst-type LOCAL -j DOCKER
	-A POSTROUTING -s 172.17.0.0/16 ! -o docker0 -j MASQUERADE
	COMMIT  
	# Completed on Sun Sep 20 17:35:31 2015
	# Generated by iptables-save v1.4.21 on Sun Sep 20 17:35:31 2015
	*filter
	:INPUT ACCEPT [139291:461018923]
	:FORWARD ACCEPT [0:0]
	:OUTPUT ACCEPT [127386:5251162]
	:DOCKER - [0:0]
	-A FORWARD -o docker0 -j DOCKER
	-A FORWARD -o docker0 -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
	-A FORWARD -i docker0 ! -o docker0 -j ACCEPT
	-A FORWARD -i docker0 -o docker0 -j ACCEPT
	COMMIT  
	# Completed on Sun Sep 20 17:35:31 2015


对比了一下我自己的文件，发现关于`docker`的项目一个都没有，没办法，就对比着写上试试吧。

然后，居然，就好了！

感谢原文：[this one](http://www.lxy520.net/2015/09/24/centos-7-docker-qi-dong-bao/)
